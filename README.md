# expense-advisor

```
[ Входные данные ]
  └─ CSV с банковскими операциями
```
↓
```
[ Парсер / Предобработка ]
  ├─ очистка строк и дублей
  ├─ нормализация дат и сумм
  ├─ унификация названий контрагентов
  └─ базовая валидация записей
```
↓
```
[ Feature Engineering ]
  ├─ извлечение категории / торговой точки / описания
  ├─ агрегаты по периодам (день / неделя / месяц)
  ├─ обязательные / переменные траты
  ├─ доля категории в бюджете
  └─ временные признаки (частота, регулярность)
```
↓
```
[ Категоризация транзакций ]
  ├─ правила (ключевые слова / MCC / эвристики)
  └─ ML-классификатор / кластеризация описаний
```
↓
```
[ Поиск регулярных платежей ]
  ├─ группировка по получателю + сумме
  ├─ проверка периодичности (месячные паттерны)
  └─ допуски по сумме и дате
```
↓
```
[ Поиск аномалий / перерасхода ]
  ├─ сравнение с личной историей (rolling mean)
  ├─ статистические выбросы / z-score / IQR
  └─ ML-анomaly detection (IsolationForest / LOF)
```
↓
```
[ Профиль расходов пользователя ]
  ├─ ключевые категории нагрузки
  ├─ регулярные обязательные платежи
  ├─ зоны перерасхода
  └─ динамика трат во времени
```
↓
```
[ Оценка потенциала экономии ]
  ├─ сценарное моделирование категорий
  ├─ сколько можно перераспределить
  └─ прогноз возможной суммы накоплений
```
↓
```
[ Формирование структурированного отчёта ]
  └─ JSON с показателями, метриками и флагами рекомендаций
```
↓
```
[ LLM — слой генерации объяснений ]
  ├─ превращение метрик в понятные советы
  ├─ адаптация под стиль общения
  └─ форматирование текста для Telegram
```
↓
```
[ Telegram-бот ]
  ├─ выдача рекомендаций
  ├─ ответы на запросы пользователя
  └─ диалоговая навигация по отчётам
```
